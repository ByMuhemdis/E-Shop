@model EntityLayer.Entites.Cart
@{
    ViewBag.Title = "Buy";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="modal-header">

    <h2>Satın Al</h2>
</div>
<div class="container">
    @using (Html.BeginForm("Buy2", "Sales", FormMethod.Post)) {

        //burad urunun satıs yapıldıktan sonra adet sayısını dusurmöemiz lazım buu sql e gidip orada Trigger fonksiyonunu sales tablosunun uzerinde calıştırıp

        //satıslar tablosundan veri ekledigimiz zaman otomatık olarak urun tablosundan o urune ait adeti dusurmeye yaray 
        //yani Trigger tablolar arasında bir tabloda işlem yapıldıgında diger tabloyuda etkilemesine yarar

        <div class="modal-body">
            @Html.HiddenFor(x => x.ID)

            <div class="form-group">

                Alıcı adı Soyadı : @Session["Ad"]  @Session["Soyad"]
            </div>

            <div class="form-group">

                Ürün Bilgisi:@Html.DisplayFor(x => x.Product.Name, new { @class = "fomr-control" })

            </div>
            <div class="form-group">

                Ürün Adeti:@Html.DisplayFor(x => x.Quantity, new { @class = "fomr-control" })

            </div>
            <div class="form-group">

                <img src="~/Content/Image/@Model.Product.Image" width="80" height="80" />

            </div>
            <div class="form-group">

                Ürün Fiyatı:@Html.DisplayFor(x => x.Price, new { @class = "fomr-control" })

            </div>

        </div>

        <div class="modal-footer" style="float:right">

            <button class="btn btn-success">Satın Al</button>
            <a href="/cart/index" class="btn btn-dark">İptal</a>

        </div>
    
    }
</div>
